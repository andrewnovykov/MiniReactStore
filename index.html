<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
    
</head>
<body>
		<div id="root">
			<script type="text/babel">




			var Product = React.createClass({
				getInitialState: function(){
					return {qty: 0};
				},

				buy: function(){
					this.setState({qty: this.state.qty + 1});
					this.props.handleTotal(this.props.price);
				},

				show: function(){
					this.props.handleShow(this.props.name);
				},

				render: function(){
					return(
						<div>
							<p>{this.props.name} - ${this.props.price}</p>
							<button onClick={this.buy}>Buy</button>
							<button onClick={this.show}>Show</button>
							<h3>Qty: {this.state.qty} item(s) </h3>
							<hr/>
						</div>
					);
				}
			});

			var Total = React.createClass({
				render: function(){
					return(
						<div>
							<h3>Total: ${this.props.total}  </h3>

						</div>
					);
				}
			});

			var ProductList = React.createClass({
				getInitialState: function(){
					return {total: 0};
				},

				calculateTotal: function(price){
					this.setState({total: this.state.total + price });
					alert(this.state.total);
				},

				showProduct: function(name){
					alert("you see "+ name);
				},

				render: function(){
					return(
						<div>
							<Product name="Android" price={122} handleShow={this.showProduct} handleTotal={this.calculateTotal}/>
							<Product name="Apple" price={143} handleShow={this.showProduct} handleTotal={this.calculateTotal}/>
							<Product name="Nokia" price={162} handleShow={this.showProduct} handleTotal={this.calculateTotal}/>
							<Product name="Meizu" price={177} handleShow={this.showProduct} handleTotal={this.calculateTotal}/>
							<Product name="Samsung" price={182} handleShow={this.showProduct} handleTotal={this.calculateTotal}/>
							<Total total={this.state.total} />
						</div>
					);
				}
			});


			React.render(<ProductList/>, document.getElementById("root"));






























			</script>
		</div>




</body>
</html>